# 추상화 기법

- 추상화는 도메인의 복잡성을 단순화하고 직관적인 멘탈 모델을 만드는 데 사용할 수 있는 가장 기본적인 인지 수단이다.
- 추상화 기법의 종류
    - 분류와 인스턴스화
        - 객체의 구체적인 세부 사항을 숨기고 인스턴스 간에 공유하는 공통적인 특성을 기반으로 범주를 형성하는 과정이다
        - 분류의 역은 범주로부터 객체를 생성하는 인스턴스화 과정이다
    - 일반화와 특수화
        - 일반화는 범주 사이의 차이를 숨기고 범주 간에 공유하는 공통적인 특성을 강조한다
        - 일반화의 역을 특수화라고 한다
    - 집합과 분해
        - 집합은 부분과 관련된 세부 사항을 숨기고 부분을 사용해서 전체를 형성하는 과정을 가리킨다
        - 집합의 반대 과정은 전첼르 부분으로 분리하는 분해 과정이다

## 분류와 인스턴스화

### 개념과 범주

- 객체를 분류하고 범주로 묶는 것은 객체들의 특정 집합에 공통의 개념을 적용하는 것을 의미한다
- 개념이란 속성과 행위가 유사한 객체에 공통적으로 적용되는 관념이나 아이디어다.
- 분류는 객체를 특정한 개념을 나타내는 집합의 구성 요소로 포함시킨다.
- ‘수많은 개별적인 현상들’을 객체라고 하고, ‘하나의 개념’을 타입이라고 한다.
- 분류는 객체를 타입과 연관시키는 것이다.
- 분류의 역은 타입에 해당하는 객체를 생성하는 과정으로 인스턴스화 또는 예시라고 한다.

### 타입

- 심볼 : 타입을 가리키는 간략한 이름이나 명칭
- 내연 : 타입의 완전한 정의, 내연의 의미를 이용해 객체가 타입에 속하는지 여부를 확인할 수 있다
- 외연 : 타입에 속하는 모든 객체들의 집합

### 외연과 집합

- 타입의 외연은 타입에 속하는 객체들의 집합으로 표현한다.
- 한 객체가 한 시점에 하나의 타입에만 속하는 것을 단일 분류라고 한다.
- 한 객체가 한 시점에 여러 타입에 속할 경우 이를 다중 분류라고 한다.
- 객체가 한 집합에서 다른 집합의 원소로 자신이 속하는 타입을 변경할 수 있는 경우 이를 동적 분류라고 한다.
- 객체가 자신의 타입을 변경할 수 없는 경우 이를 정적 분류라고 한다.

### 클래스

- 객체지향 프로그래밍 언어를 이용해 타입을 구현하는 가장 보편적인 방법은 클래스를 이용하는 것이다.
- 클래스는 타입을 구현하는 용도 외에도 코드를 재사용하는 용도로 사용되기도 한다.
- 클래스 외에도 인스턴스를 생성할 수 없는 추상 클래스나 인터페이스를 이용해 타입을 구현할 수도 있다.
- 클래스는 객체가 공유하는 본질적인 속성을 정의한다.
- 대부분의 객체지향 프로그래밍 언어에서 동일한 범주에 속하는 객체는 동일한 클래스의 인스턴스여야 한다.
- 동일한 범주에 속하는 객체는 모두 동일한 속성을 가져야만 한다.

## 일반화와 특수화

### 범주의 계층

- 계층 구조는 좀 더 세부적인 범주가 계층의 하위에 위치하고 좀 더 일반적인 범주가 계층의 상위에 위치한다.
- 계층의 상위에 위치한 범주를 하위에 위치한 범주의 일반화라고 한다.
- 계층의 하위에 위치한 범주는 계층의 상위에 위치한 범주의 특수화라고 한다.

### 서브타입

- 객체지향의 세계에서 범주는 개념을 의미하고, 개념은 타이을 의미하므로 일반화와 특수화는 계층 구조 안에 존재하는 타입 간의 관계를 의미한다.
- 좀 더 일반적인 타입을 이용해 좀 더 세부적인 타입을 정의함으로써 타입 간의 계층 구조를 구축할 수 있다.
- 어떤 타입이 다른 타입보다 일반적이라면 이 타입을 슈퍼타입이라고 한다.
- 어떤 타입이 다른 타입보다 좀 더 특수하다면 이 타입을 서브타입이라고 한다.
- 슈퍼타입은 서브타입의 일반화이고 서브타입은 슈퍼타입의 특수화다.
- 100% 규칙 : 슈퍼타입의 정의가 100% 서브타입에 적용돼야만 한다. 서브타입은 속성과 연관관계 면에서 슈퍼타입과 100% 일치해야 한다.
- Is-a 규칙: 서브타입의 모든 인스턴스는 슈퍼타입 집합에 포함돼야 한다. 이는 대개 영어로 서브타입은 슈퍼타입이다라는 구문을 만듦으로써 테스트할 수 있다.

### 상속

- 일반적으로 클래스 간의 상속을 사용해 일반화와 특수화 관계를 구현하지만, 안타깝게도 모든 상속 관계까 일반화 관계인 것은 아니다.
- 일반화의 원칙은 한 타입이 다른 타입의 서브타입이 되기 위해서는 슈퍼타입에 순응해야 한다는 것이다.
- 순응의 두 가지 종류
    - 구조적인 순응
        - 구조적인 순응은 타입의 내연과 관련된 100% 규칙을 의미한다.
        - 서브타입은 슈퍼타입을 가지고 있는 속성과 연관관계 면에서 100% 일치해야 한다.
        - 서브타입이 슈퍼타입을 대체하더라도 구조에 관한 동일한 기대 집합을 만족시킬 수 있다.
    - 행위적인 순응
        - 타입의 행위에 관한 것이며, 서브타입은 슈퍼타입을 행위적으로 대체 가능해야 한다.
        - 행위적인 순응을 흔히 리스코프 치환 원칙이라고 한다.
- 상속의 또 다른 용도는 코드 중복을 방지하고 공통 코드를 재사용하기 위한 언어적 메커니즘을 제공하는 것
- 상속이 대체 가능성을 만든다는 것을 보장하지 않는다.
- 서브클래스가 슈퍼클래스를 대체할 수 있는 경우 이를 서브타이핑이라고 한다.
- 서브클래스가 슈퍼클래스를 대체할 수 없는 경우에는 서브클래싱이라고 한다.
- 서브타이핑은 설계의 유연성이 목표인 반면 서브클래싱은 코드의 중복 제거와 재사용이 목적이다.
- 서브타이핑을 인터페이스 상속, 서브클래싱을 구현 상속이라고 한다.